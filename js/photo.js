function whenDOMReady(){"/photos/"==location.pathname&&photos()}function photos(){fetch("https://memos.yurenyiyuji.top/api/v1/memo?creatorId=1&tag=相册&limit=10").then((t=>t.json())).then((t=>{let a="",e=[];t.data.forEach((t=>{e=e.concat(t.content.match(/\!\[.*?\]\(.*?\)/g))})),e.forEach((t=>{let e,o,n=t.replace(/!\[.*?\]\((.*?)\)/g,"$1"),l=t.replace(/!\[(.*?)\]\(.*?\)/g,"$1");-1!=l.indexOf(" ")?(e=l.split(" ")[0],o=l.split(" ")[1]):o=l,a+=`<div class="gallery-photo"><a href="${n}" data-fancybox="gallery" class="fancybox" data-thumb="${n}"><img class="photo-img" loading='lazy' decoding="async" src="${n}"></a>`,o&&(a+=`<span class="photo-title">${o}</span>`),e&&(a+=`<span class="photo-time">${e}</span>`),a+="</div>"})),document.querySelector(".gallery-photos.page").innerHTML=a,imgStatus.watch(".photo-img",(()=>{waterfall(".gallery-photos")})),window.Lately&&Lately.init({target:".photo-time"})})).catch()}whenDOMReady(),document.addEventListener("pjax:complete",whenDOMReady),window.onresize=()=>{"/photos/"==location.pathname&&waterfall(".gallery-photos")};